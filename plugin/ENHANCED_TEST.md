# 增强版元素捕获器测试指南

## 新功能特性

### 🎯 核心功能
- **元素捕获** - 点击页面元素进行捕获
- **选择器生成** - 自动生成CSS、ID、属性选择器（禁用xpath）
- **元素列表** - 显示所有捕获的元素详情
- **高亮显示** - 点击眼睛图标高亮对应元素
- **选择器复制** - 一键复制选择器到剪贴板

### 🎨 界面改进
- **可折叠菜单** - 点击 `-` 按钮折叠/展开
- **元素编号** - 每个捕获的元素都有唯一编号
- **选择器预览** - 实时显示多种选择器类型
- **操作按钮** - 高亮、删除、复制等快捷操作

## 测试步骤

### 1. 基础测试
1. 构建并加载插件到Chrome
2. 访问任意网页
3. 点击插件图标 → "开始选择元素"
4. 在页面上点击不同类型的元素

### 2. 功能测试

#### 元素捕获测试
- ✅ 点击按钮、链接、输入框等元素
- ✅ 观察元素是否被绿色边框标记
- ✅ 检查菜单中是否显示新增的元素

#### 选择器生成测试
- ✅ 有ID的元素应显示ID选择器
- ✅ 有类名的元素应显示CSS选择器
- ✅ 所有元素都应有属性选择器
- ❌ 确认没有生成xpath选择器

#### 高亮功能测试
- ✅ 点击元素列表中的眼睛图标
- ✅ 对应元素应该橙色高亮并滚动到视图中
- ✅ 3秒后高亮自动消失

#### 复制功能测试
- ✅ 点击选择器旁的📋按钮
- ✅ 应显示"已复制到剪贴板"提示
- ✅ 粘贴验证选择器内容

### 3. 界面测试

#### 菜单操作测试
- ✅ 拖拽菜单标题栏移动位置
- ✅ 点击 `-` 按钮折叠菜单
- ✅ 点击 `×` 按钮关闭菜单

#### 元素管理测试
- ✅ 点击元素的 `×` 按钮删除单个元素
- ✅ 点击"清空所有"删除所有元素
- ✅ 验证元素计数正确更新

## 预期效果

### ✅ 正常情况
- 菜单显示为"元素捕获器"标题
- 捕获的元素按编号排列显示
- 每个元素显示3种选择器类型
- 高亮功能正常工作
- 复制功能正常工作

### 🔍 选择器类型
1. **CSS选择器** - 优先使用ID，其次类名，最后nth-child
2. **ID选择器** - 仅当元素有ID时显示
3. **属性选择器** - 基于name、type、value等属性

### 🎨 视觉效果
- **悬停高亮** - 蓝色边框
- **选中标记** - 绿色边框
- **临时高亮** - 橙色边框（脉冲动画）

## 测试用例

### 测试页面元素
建议在以下元素上测试：

```html
<!-- 有ID的按钮 -->
<button id="submit-btn">提交</button>

<!-- 有类名的输入框 -->
<input class="form-input" type="text" name="username">

<!-- 有多个属性的链接 -->
<a href="#" title="帮助链接" data-action="help">帮助</a>

<!-- 普通段落 -->
<p>这是一个测试段落</p>
```

### 预期选择器结果
- 按钮: `#submit-btn`
- 输入框: `input.form-input` 和 `input[name="username"]`
- 链接: `a[title="帮助链接"]`
- 段落: `p:nth-child(n)`

## 故障排除

### 常见问题
1. **菜单不显示** - 刷新页面重试
2. **选择器为空** - 检查元素是否有有效属性
3. **高亮不工作** - 确认元素仍在页面中
4. **复制失败** - 检查浏览器剪贴板权限

### 调试方法
- 打开开发者工具查看控制台日志
- 检查是否有JavaScript错误
- 验证插件权限设置

## 下一步改进

- [ ] 添加更多选择器类型（data属性等）
- [ ] 支持选择器优先级设置
- [ ] 添加选择器有效性验证
- [ ] 支持批量操作功能