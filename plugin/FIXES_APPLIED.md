# ğŸ”§ é—®é¢˜ä¿®å¤æ€»ç»“

## ä¿®å¤çš„é—®é¢˜

### 1. ğŸš« åˆ é™¤æ—§çš„"ç½‘é¡µè‡ªåŠ¨åŒ–åŠ©æ‰‹"èœå•

**é—®é¢˜**: é‡è£…åä»ç„¶å‡ºç°åä¸º"ç½‘é¡µè‡ªåŠ¨åŒ–åŠ©æ‰‹"çš„æ‚¬æµ®èœå•

**åŸå› **: webpacké…ç½®ä¸­ä»åœ¨æ„å»ºæ—§çš„content.tsæ–‡ä»¶

**ä¿®å¤æ–¹æ¡ˆ**:
- âœ… ä»webpack.config.jsä¸­ç§»é™¤content.tsçš„æ„å»ºé…ç½®
- âœ… åªä¿ç•™simple-content.tsçš„æ„å»º
- âœ… ç¡®ä¿manifest.jsonåªåŠ è½½simple-content.js

**ä¿®å¤ä»£ç **:
```javascript
// webpack.config.js - ç§»é™¤content.ts
entry: {
  background: './src/background.ts',
  'simple-content': './src/content/simple-content.ts',  // åªä¿ç•™è¿™ä¸ª
  'simple-popup': './src/popup/simple-popup.js'
},
```

### 2. ğŸ”¤ ä¿®å¤ç‰¹æ®Šå­—ç¬¦æ’å…¥åŠŸèƒ½

**é—®é¢˜**: ç‰¹æ®Šå­—ç¬¦æŒ‰é’®ç‚¹å‡»åæ²¡æœ‰æ•ˆæœ

**åŸå› **: 
1. é€‰æ‹©å™¨ä¸å¤Ÿç²¾ç¡®ï¼Œæ‰¾ä¸åˆ°æ­£ç¡®çš„è¾“å…¥æ¡†
2. ç¼ºå°‘äº‹ä»¶è§¦å‘ï¼Œé¡µé¢ä¸çŸ¥é“å€¼å·²æ”¹å˜

**ä¿®å¤æ–¹æ¡ˆ**:
- âœ… æ”¹è¿›é€‰æ‹©å™¨ï¼Œä½¿ç”¨æ›´ç²¾ç¡®çš„æŸ¥æ‰¾æ–¹å¼
- âœ… æ·»åŠ inputå’Œchangeäº‹ä»¶è§¦å‘
- âœ… å¢åŠ è°ƒè¯•æ—¥å¿—å’Œé”™è¯¯å¤„ç†
- âœ… æ”¹è¿›ç”¨æˆ·åé¦ˆæç¤º

**ä¿®å¤ä»£ç **:
```typescript
// ä¿®å¤å‰
const inputElement = document.querySelector(`input[data-index="${index}"]`);

// ä¿®å¤å  
const inputElement = document.querySelector(`#input-section-${index} .wao-text-input`);

// æ·»åŠ äº‹ä»¶è§¦å‘
inputElement.dispatchEvent(new Event('input', { bubbles: true }));
inputElement.dispatchEvent(new Event('change', { bubbles: true }));
```

## éªŒè¯ä¿®å¤æ•ˆæœ

### æµ‹è¯•æ­¥éª¤

1. **é‡æ–°æ„å»ºæ’ä»¶**
   ```bash
   cd plugin
   npm run build
   ```

2. **å®Œå…¨é‡æ–°å®‰è£…æ’ä»¶**
   - å¸è½½æ‰€æœ‰ç›¸å…³æ’ä»¶
   - æ¸…ç†æµè§ˆå™¨ç¼“å­˜
   - é‡æ–°åŠ è½½ `plugin/dist` ç›®å½•

3. **éªŒè¯èœå•é—®é¢˜ä¿®å¤**
   - âœ… åªåº”è¯¥çœ‹åˆ°ä¸€ä¸ª "ğŸ¯ å…ƒç´ æ•è·å™¨" èœå•
   - âŒ ä¸åº”è¯¥å†å‡ºç° "ç½‘é¡µè‡ªåŠ¨åŒ–åŠ©æ‰‹" èœå•

4. **éªŒè¯ç‰¹æ®Šå­—ç¬¦åŠŸèƒ½**
   - æ‰“å¼€ `test-special-chars.html` æµ‹è¯•é¡µé¢
   - é€‰æ‹©æ–‡æœ¬åŒºåŸŸå…ƒç´ 
   - ç‚¹å‡»"âŒ¨ï¸ è¾“å…¥"æŒ‰é’®
   - æµ‹è¯•ç‰¹æ®Šå­—ç¬¦æŒ‰é’®ï¼š
     - **â†µ** - æ¢è¡Œç¬¦
     - **Tab** - åˆ¶è¡¨ç¬¦  
     - **Space** - ç©ºæ ¼
     - **Enter** - å›è½¦æ¢è¡Œ

### é¢„æœŸæ•ˆæœ

**èœå•ä¿®å¤**:
- åªæ˜¾ç¤ºä¸€ä¸ªç¨³å®šçš„å…ƒç´ æ•è·å™¨èœå•
- èœå•æ ‡é¢˜æ˜¾ç¤º "ğŸ¯ å…ƒç´ æ•è·å™¨"
- æ²¡æœ‰é‡å¤æˆ–å†²çªçš„UI

**ç‰¹æ®Šå­—ç¬¦åŠŸèƒ½**:
- ç‚¹å‡»ç‰¹æ®Šå­—ç¬¦æŒ‰é’®åï¼Œå­—ç¬¦æ­£ç¡®æ’å…¥åˆ°å…‰æ ‡ä½ç½®
- æ˜¾ç¤ºæˆåŠŸæç¤ºï¼š"å·²æ’å…¥ç‰¹æ®Šå­—ç¬¦: xxx"
- åœ¨å¤šè¡Œæ–‡æœ¬åŒºåŸŸä¸­ï¼š
  - æ¢è¡Œç¬¦åˆ›å»ºæ–°è¡Œ
  - åˆ¶è¡¨ç¬¦åˆ›å»ºç¼©è¿›
  - ç©ºæ ¼æ­£å¸¸æ’å…¥
- åœ¨å•è¡Œè¾“å…¥æ¡†ä¸­ï¼š
  - ç‰¹æ®Šå­—ç¬¦æŒ‰é¢„æœŸå¤„ç†ï¼ˆæ¢è¡Œç¬¦å¯èƒ½è¢«å¿½ç•¥ï¼‰

## æµ‹è¯•æ–‡ä»¶

- `plugin/test-special-chars.html` - ä¸“é—¨çš„ç‰¹æ®Šå­—ç¬¦åŠŸèƒ½æµ‹è¯•é¡µé¢
- `plugin/FIXES_APPLIED.md` - æœ¬ä¿®å¤æ€»ç»“æ–‡æ¡£

## è°ƒè¯•ä¿¡æ¯

å¦‚æœç‰¹æ®Šå­—ç¬¦ä»ç„¶æ— æ•ˆï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ï¼š

```javascript
// æ£€æŸ¥è¾“å…¥æ¡†æ˜¯å¦å­˜åœ¨
console.log('è¾“å…¥æ¡†æ•°é‡:', document.querySelectorAll('.wao-text-input').length);

// æ£€æŸ¥ç‰¹æ®Šå­—ç¬¦æŒ‰é’®
console.log('ç‰¹æ®Šå­—ç¬¦æŒ‰é’®æ•°é‡:', document.querySelectorAll('.wao-special-char-btn').length);

// æ‰‹åŠ¨æµ‹è¯•æ’å…¥
const input = document.querySelector('.wao-text-input');
if (input) {
  input.value = 'Hello\tWorld\nNext Line';
  input.dispatchEvent(new Event('input', { bubbles: true }));
  console.log('æ‰‹åŠ¨æ’å…¥æµ‹è¯•å®Œæˆ');
}
```

## æ„å»ºè¾“å‡ºéªŒè¯

ä¿®å¤åçš„æ„å»ºè¾“å‡ºåº”è¯¥æ˜¾ç¤ºï¼š
- âœ… `simple-content.js` - 34.6KB (åŒ…å«æ‰€æœ‰åŠŸèƒ½)
- âŒ ä¸åº”è¯¥æœ‰ `content.js` æ–‡ä»¶
- âœ… æ€»ä½“ç§¯å‡å°ï¼Œæ²¡æœ‰é‡å¤ä»£ç 

## ä¸‹ä¸€æ­¥

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼š
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. éªŒè¯æ’ä»¶æ˜¯å¦å®Œå…¨é‡æ–°åŠ è½½
3. å°è¯•åœ¨éšèº«æ¨¡å¼ä¸‹æµ‹è¯•
4. ä½¿ç”¨ç´§æ€¥ä¿®å¤è„šæœ¬æ¸…ç†å†²çª